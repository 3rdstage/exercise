<!DOCTYPE html>
<html>
	<head>
		<title>SlickGrid Exercise</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="../../css/slick.grid.css" rel="stylesheet" type="text/css"/>
		<link href='http://code.jquery.com/ui/1.8.18/themes/smoothness/jquery-ui.css' rel="stylesheet"  type="text/css"/>

	</head>
	<body>

		<form id="form1">
			<label>Title : <input type="text" name="title" tabindex="1" value="Laptops"></label>
			<label>URL : <input type="text" name="url" tabindex="2" value="/computers/laptos"></label>
			<button name='add'>Add</button>
		</form>

		<div id='grid1' style="width:600px;height:300px"></div>

		<hr>

		<table width="600" border="1">
		<thead>
			<tr>
				<th>Title</th>
				<th>Url</th>
			</tr>
		</thead>
		<tbody  data-bind="foreach:categories">
			<tr>
				<td data-bind="text:title"></td>
				<td data-bind="text:url"></td>
			</tr>
		</tbody>
		</table>

		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="https://code.jquery.com/jquery-1.8.0.min.js"></script>
		<script src="https://code.jquery.com/ui/1.8.24/jquery-ui.min.js"></script>
		<script src="../../js/knockout-3.0.0.js"></script>
		<script src="../../js/jquery.event.drag-2.2.js"></script>
		<script src="../../js/slick.core.js"></script>
		<script src="../../js/slick.cellrangedecorator.js"></script>
		<script src="../../js/slick.cellrangeselector.js"></script>
		<script src="../../js/slick.cellselectionmodel.js"></script>
		<script src="../../js/slick.formatters.js"></script>
		<script src="../../js/slick.editors.js"></script>
		<script src="../../js/slick.grid.js"></script>
		<script>
			var grid1;

			var columns1 = [
				{id : "title", name : "Title", field : "title", width : 300},
				{id : "url", name : "URL", field : "url", width : 300, editor: Slick.Editors.Text}
			];

			var data1 = [
				{title : "TVs", url : "tv/tvs"},
				{title : "Smart TVs", url : "tv/smart-tvs"},
				{title : "Projectors", url : "tv/projectors"},
				{title : "TV Stands, Mounts", url: "tv/tv-stands"},
				{title : "Blue-ray & DVD Players", url : "tv/blue-ray"},
				{title : "Sound Bars", url : "tv/sound-bars"},
				{title : "Home Theater Systems", url : "tv/home-theater-systems"}
			];

			var viewModel = {
				categories : ko.observableArray([])
			};
			ko.applyBindings(viewModel);


			for(var i = 0, n1 = data1.length; i < n1; i++) viewModel.categories.push(data1[i]);

			var category1 = new Object();
			category1.title = "Monitors";
			category1.url = "/computers/monitors";
			viewModel.categories.push(category1);

			var title2 = "Printers";
			var url2 = "/computers/printers";
			viewModel.categories.push(eval("({title:\"" + title2 + "\", url:\"" + url2 + "\"})"));

			var options1 = {
				autoEdit : true,
				editable : true,
				enableAddRow : true,
				enableCellNavigation : true,
				enableColumnReorder : false,
				headerRowHeight : 25
			};

			$(function(){

				grid1 = new Slick.Grid("#grid1", viewModel.categories.peek(), columns1, options1);
			});

			$("#form1 > button[name='add']").click(function(ev){
				//window.alert($("#form1 input[name='title']").val());
				var title2 = $("#form1 input[name='title']").val();
				var url2 = $("#form1 input[name='url']").val()
				viewModel.categories.push(eval("({title:\"" + title2 + "\", url:\"" + url2 + "\"})"));

				ev.preventDefault();

			});
		</script>
	</body>
</html>