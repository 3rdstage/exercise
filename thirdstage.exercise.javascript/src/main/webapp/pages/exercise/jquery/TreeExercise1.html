<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>jQuery Tree Exercise 2</title>

<script type="text/javascript" src="../../../scripts/jstree/_lib/jquery.js"></script>
<script type="text/javascript" src="../../../scripts/jstree/jquery.jstree.js"></script>
<script type="text/javascript">

$(document).ready(function(){
	
	$('#catalog-1').jstree({
		"core" : {
			"animation" : 50
		},
		"plugins" : ["themes", "html_data", "checkbox", "ui"],
		"themes" : {
			"theme" : "classic",
			"dots" : true,
			"icons" : false
		},
		"checkbox" : {
			"real_checkboxes" : true
			
		}
	});
	
	$('#catalog-1').bind("check_node.jstree uncheck_node.jstree", function(ev){
		
		var msg = "";	
		$('#catalog-1 input:checked').each(function(n, item){
			msg += $(this).attr("id") + ", ";
		});
		
		$('#message-1').text("Checked items : " + msg);
		window.status = "Checked items : " + msg;		
	});
	
	$('#catalog-2').jstree({
		"core" : {
			"animation" : 50
		},
		"plugins" : ["themes", "json_data", "ui"],
		"themes" : {
			"theme" : "classic",
			"dots" : true,
			"icons" : false
		},
		"json_data" : {
			"progressive_render" : true,
			"data" : [{
				"data" : "Electronics",
				"attr" : {},
				"children" :[{
					"data" : "Cell Phones",
					"attr" : {}
				},
				{
					"data" : "Smartphones",
					"attr" : {},
					"children" : [{
						"data" : "iPhone 4",
						"attr" : {}
					},
					{
						"data" : "Galaxy S",
						"attr" : {}
					},
					{
						"data" : "Optimus 3D",
						"attr" : {}
					},
					{
						"data" : "Vega Racer",
						"attr" : {}
					}]
				}]
			 },
			 {
			 	"data" : "Fashion",
			 	"attr" : {},
			 	"children" : [{
			 		"data" : "Womens Clothing",
			 		"attr" : {},
			 		"children" : [{
			 			"data" : "Jacket",
			 			"attr" : {}
			 		},
			 		{
						"data" : "Coat",
						"attr" : {}
			 		}]
			 	}]
			}]
		}
	});

	jQuery.jstree._reference("#catalog-2").open_all();
	//jQuery("#catalog-2").jstree("open_all");
	
	
	$('#catalog-3').jstree({
		"core" : {
			"animation" : 50
		},
		"plugins" : ["themes", "xml_data"],
		"themes" : {
			"theme" : "classic",
			"dots" : true,
			"icons" : false
		},
		"xml_data" : {
			"xsl" : "flat",
			"data" : "" +
				"<root>" + 
					"<item id='electronics' parent_id='0'>" +
						"<content><name>Electronics</name></content>" + 
					"</item>" +
					"<item id='cell_phones' parent_id='electronics'>" +
						"<content><name>Cell Phones</name></content>" +
					"</item>" +
					"<item id='smartphones' parent_id='electronics'>" +
						"<content><name>Smartphones</name></content>" +
					"</item>" +
					"<item id='iphone-4' parent_id='smartphones'>" +
						"<content><name>iPhone 4</name></content>" +
					"</item>" +
					"<item id='galaxy-s' parent_id='smartphones'>" +
						"<content><name>Galaxy S</name></content>" +
					"</item>" +					
					"<item id='optimus-3d' parent_id='smartphones'>" +
						"<content><name>Optimus 3D</name></content>" +
					"</item>" +
					"<item id='vega-racer' parent_id='smartphones'>" +
						"<content><name>Vega Racer</name></content>" +
					"</item>" +
					"<item id='fashion' parent_id='0'>" +
						"<content><name>Fashion</name></content>" +
					"</item>" +
					"<item id='womens-clothing' parent_id='fashion'>" +
						"<content><name>Women's Clothing</name></content>" +
					"</item>" +
					"<item id='jacket' parent_id='womens-clothing'>" +
						"<content><name>Jacket</name></content>" +
					"</item>" +
					"<item id='coat' parent_id='womens-clothing'>" +
						"<content><name>Coat</name></content>" +
					"</item>" +
				"</root>"
		}	
	});
	
	
	
});

</script>
</head>
<body>

<h3>Tree I</h3>
<div id='catalog-1'>
<ul>
	<li id="electronics"><a>Electronics</a>
		<ul>
			<li id="cell-phones"><a>Cell Phones</a></li>
			<li id="smartphones"><a>Smartphones</a>
				<ul>
					<li id="ipone-4"><a>iPhone 4</a></li>
					<li id="galaxy-s"><a>Galaxy S</a></li>
					<li id="optimus-3d"><a>Optimus 3D</a></li>
					<li id="vega-racer"><a>Vega Racer</a></li>
				</ul>
			</li>
		</ul>
	</li>
	<li id="fashion"><a>Fashion</a>
		<ul>
			<li id="womens-cloting"><a>Women''s Clothing</a>
				<ul>
					<li id="jacket"><a>Jacket</a></li>
					<li id="coat"><a>Coat</a></li>
				</ul>
			</li>
		</ul>
	</li>	
</ul>
</div>
<br/>
<div id='message-1' style='color:blue'></div>



<h3>Tree II</h3>
<div id='catalog-2'>
</div>



<h3>Tree III</h3>
<div id='catalog-3'></div>


</body>
</html>