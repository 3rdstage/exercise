<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SVG Editor Prototype</title>
<link rel="stylesheet" media="screen" href="../../../styles/bootstrap/bootstrap.min.css">
</head>
<body style="margin-left:40px">
	
	
<svg id='panel1' style="width:800px;height:600px;border:1px solid blue">
</svg>
<br/>
<div id='pallette1' class='btn-group'>
	<button id='addCircleButton' type='button' class='btn btn-default'>Circle</button>
	<button id='addRectangle' type='button' class='btn btn-default'>Rectangle</button>
</div>

<script src="../../../scripts/jquery/js/jquery-1.8.0.min.js"></script>
<script src="../../../scripts/bootstrap/bootstrap.min.js"></script>
<script src="../../../scripts/svg.js/svg.min.js"></script>
<script src="../../../scripts/svg.js/svg.draggable.js"></script>
<script>

$("#panel1").click(function(ev){
	
	//alert("x : " + ev.pageX + ", y : " + ev.pageY);
	var draw = SVG('panel1');
	var r = 20;
	var w = 50;
	var h = 30;
	/*
	var circle = draw.circle(r);
	circle.x(ev.pageX - $("#panel1").position().left - r/2);
	circle.y(ev.pageY - $("#panel1").position().top - r/2);
	*/
	var node = draw.rect(w, h);
	node.x(ev.pageX - $("#panel1").position().left - r/2);
	node.y(ev.pageY - $("#panel1").position().top - r/2);
	node.fill('#fff');
	node.stroke('#000');
	ev.stopPropagation();
	node.dragstart	= function(){
		node.isDragging = true;
	};
	node.dragend = function(){
		ev.stopPropagation();
		node.isDragging = false;
	};
	
	node.draggable();
});


</script>
</body>
</html>