<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>JavaScript Exercise</title>
<link rel="stylesheet" type="text/css" media="screen" 
		href="../../../scripts/qunit/qunit-1.9.0.css" />
<script type="text/javascript" src="../../../scripts/jquery/js/jquery-1.8.0.min.js"></script>
<script type='text/javascript' src='../../../scripts/d3/d3.v2.min.js'></script>

<script type="text/javascript" src="../../../scripts/qunit/qunit-1.9.0.js"></script>

<script>
var Rectangle = function(){
	
	var w = 0;
	var h = 0;
	var s = 0;
	
	return {
		
		setWidth: function(x){
			w = x;
			s = w*h;
			return this; 
		},
		
		setHeight: function(y){
			h = y;
			s = w*h;
			return this;
		},
	
		getArea: function(){
			s = w*h;
			return s;
		}
	}
}


</script>


	</head>
	


	<body>
<div id="qunit"></div>
<div id="qunit-fixture"></div>

<script type="text/javascript">

var rect1 = new Rectangle();

test("test object 1", function(){
	rect1.setWidth(3).setHeight(4);
	
	equal(12, rect1.getArea(), "Simple but exact");
	equal(undefined, rect1.w, "Reteiving undefined is not error.");
});

var dim1 = {
		width : 100,
		height : 200
}

test("test object 2", function(){
	equal(dim1.width + 50, 150, "Normal case of addition");
	equal(dim1.length || 50, 50, "Addition with undefined");
	
});

var calculator = function(a, b){
	
	var that = {};
	
	var x = a;
	var y = b;
	
	that.add = function(){
			return x + y;
	};
	
	that.substract = function(){
			return x - y;
	};
	
	return that;
}

test("test function 3", function(){
	var cal1 = calculator(2, 3);
	equal(cal1.add(), 5, "1st instance");

	var cal2 = calculator(3, 4);
	equal(cal2.add(), 7, "2nd instance");
	
	equal(cal2.substract(), -1, "1st instance again. Thread-safeness is confirmed");
});



var speed = 100;
speed.max = 1000;
speed.min = 10;
speed.step = 5;

test("test object", function(){
	equal(speed + speed.max + speed.min + speed.step, 1115, "object can be in mixed structure");
});


</script>



</body>

</html>