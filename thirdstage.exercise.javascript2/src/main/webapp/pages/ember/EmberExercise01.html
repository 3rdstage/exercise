<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit Example</title>
  <link rel="stylesheet" href="../../lib/qunit-1.15.0/qunit-1.15.0.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="../../lib/qunit-1.15.0/qunit-1.15.0.js"></script>
  <script src="../../js/utils.js"></script>
  <script src="../../lib/ember.js-1.0.pre/jquery-1.7.2.js"></script>
  <script src="../../lib/ember.js-1.0.pre/handlebars-1.0.0.beta.6.js"></script>
  <script src="../../lib/ember.js-1.0.pre/ember.js"></script>
  
  
  <script>

window.App = Ember.Application.create();  
  
QUnit.test( "Ember object model test", function( assert ) {
  App.Person = Ember.Object.extend({
    name : null,
    
    introduce : function(){
       return 'My name is ' + this.name + '.';
    }
  });
  
  var p1 = App.Person.create();
  equal(p1.introduce(), 'My name is null.');
  
  p1.set('name', 'Peter');
  equal(p1.introduce(), 'My name is Peter.', 'this.property works fine in methods.');
  
  App.Employee = Ember.Object.extend({
     name : 'nobody',
     
     introduce : function(){
        return 'I am ' + this.name + '.';
     }
   });
   
   var e1 = App.Employee.create();
   equal(e1.introduce(), 'I am nobody.');
   
   e1.set('name', 'Sam');
   equal(e1.introduce(), 'I am Sam.', 'this.get(\'property\') works fine in methods.');
  
  
});

  </script>
</body>
</html>